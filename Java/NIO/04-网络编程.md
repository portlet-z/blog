## 非阻塞 vs 阻塞

### 阻塞

- 在没有数据可读时，包括数据复制过程中，线程必须阻塞等待，不会占用CPU,但线程相当于闲置
- 32位JVM一个线程320k, 64位jvm一个线程1024k,为了减少线程数，需要采用线程池技术
- 但即使使用了线程池，如果有很多连接建立，但长时间inactive,会阻塞线程池中所有线程

### 非阻塞

- 在某个Channel没有可读事件时，线程不必阻塞，它可以去处理其它有可读事件的Channel
- 数据复制过程中，线程实际还是阻塞的(AIO改进的地方)
- 写数据时，线程只是等待数据写入Channel即可，无需等待Channel通过网络把数据发送出去

### 多路复用

线程必须配合Selector才能完成对多个Channel可读可写事件的监控，这称之为多路复用

- 多路复用仅针对网络IO, 普通文件IO没法利用多路复用
- 如果不用Selector的非阻塞模式，那么Channel读取到的字节很多时候都是0， 而Selector保证了有可读事件才去读取
- Channel输入的数据一旦准备好，会触发Selector的可读事件